"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[734],{613:(t,e,c)=>{c.d(e,{Z:()=>n});const s=c.p+"static/media/error.42292aa12b6bc303ce99.gif";var a=c(184);const n=()=>(0,a.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:s,alt:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"})},364:(t,e,c)=>{c.r(e),c.d(e,{default:()=>g});var s=c(270);const a=c.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",n=c.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var r=c(184);const i=()=>(0,r.jsxs)("div",{className:"app__banner",children:[(0,r.jsx)("img",{src:a,alt:"Avengers"}),(0,r.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,r.jsx)("br",{}),"Stay tuned!"]}),(0,r.jsx)("img",{src:n,alt:"Avengers logo"})]});var o=c(791),l=c(87),d=c(304),u=c(613),m=c(282);const h=(t,e,c)=>{switch(t){case"waiting":return(0,r.jsx)(m.Z,{});case"loading":return c?(0,r.jsx)(e,{}):(0,r.jsx)(m.Z,{});case"confirmed":return(0,r.jsx)(e,{});case"error":return(0,r.jsx)(u.Z,{});default:throw new Error("Unexpected process state")}},p=t=>{const[e,c]=(0,o.useState)([]),[s,a]=(0,o.useState)(!1),[n,i]=(0,o.useState)(210),[u,m]=(0,o.useState)(!1),{loading:p,error:g,process:x,setProcess:b,getAllComics:j}=(0,d.Z)();(0,o.useEffect)((()=>{v(n,!0)}),[]);const v=(t,e)=>{a(!e),j(t).then(f).then((()=>b("confirmed")))},f=t=>{let e=!1;t.length<8&&(e=!0),c((e=>[...e,...t])),a(!1),i((t=>t+8)),m(e)},w=(0,o.useRef)([]);return(0,r.jsxs)("div",{className:"comics__list",children:[h(x,(()=>function(t){const e=t.map(((t,e)=>(0,r.jsx)("div",{children:(0,r.jsx)("li",{className:"comics__item",tabIndex:0,ref:t=>w.current[e]=t,children:(0,r.jsxs)(l.rU,{to:"/comics/".concat(t.id),children:[(0,r.jsx)("img",{src:t.thumbnail,alt:t.title,className:"comics__item-img"}),(0,r.jsx)("div",{className:"comics__item-name",children:t.title}),(0,r.jsx)("div",{className:"comics__item-price",children:t.price})]})},e)})));return(0,r.jsx)("ul",{className:"comics__grid",children:e})}(e)),s),(0,r.jsx)("button",{className:"button button__main button__long",disabled:s,style:{display:u?"none":"block"},onClick:()=>v(n),children:(0,r.jsx)("div",{className:"inner",children:"load more"})})]})},g=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.q,{children:[(0,r.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,r.jsx)("title",{children:"Comics page"})]}),(0,r.jsx)(i,{}),(0,r.jsx)(p,{})]})},304:(t,e,c)=>{c.d(e,{Z:()=>a});var s=c(791);const a=()=>{const{loading:t,request:e,error:c,clearError:a,process:n,setProcess:r}=(()=>{const[t,e]=(0,s.useState)("waiting");return{request:(0,s.useCallback)((async function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};e("loading");try{const e=await fetch(t,{method:c,body:s,headers:a});if(!e.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(e.status));return await e.json()}catch(n){throw e("error"),n}}),[]),clearError:(0,s.useCallback)((()=>{e("loading")}),[]),process:t,setProcess:e}})(),i="https://gateway.marvel.com:443/v1/public/",o="apikey=677f4f151277ce2120c892cebbe0e1ba",l=t=>{let e=t.description;return e=e?"".concat(e.slice(0,200),"..."):"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",{id:t.id,name:t.name,description:e,thumbnail:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items.slice(0,10),title:t.title}},d=t=>{var e;let c=t.prices[0].price;return c=c?"".concat(t.prices[0].price,"$"):"\u041a\u043e\u043c\u0438\u043a\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0435",{id:t.id,description:t.description||"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",thumbnail:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),title:t.title.length>50?"".concat(t.title.slice(0,50),"..."):t.title,price:c,language:(null===(e=t.textObjects[0])||void 0===e?void 0:e.language)||"en-us",pageCount:t.pageCount?"".concat(t.pageCount," p."):"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u043b\u0438\u0441\u0442\u043e\u0432 \u0432 \u043a\u043e\u043c\u0438\u043a\u0441\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}};return{clearError:a,process:n,setProcess:r,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return(await e("".concat(i,"characters?limit=9&offset=").concat(t,"&").concat(o))).data.results.map(l)},getCharacter:async t=>{const c=await e("".concat(i,"characters/").concat(t,"?").concat(o));return l(c.data.results[0])},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return(await e("".concat(i,"comics?limit=8&offset=").concat(t,"&").concat(o))).data.results.map(d)},getComics:async t=>{const c=await e("".concat(i,"comics/").concat(t,"?").concat(o));return d(c.data.results[0])},getChar:async()=>(await e("".concat(i,"characters?").concat(o))).data.results.map(l)}}}}]);
//# sourceMappingURL=734.a9185078.chunk.js.map