"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[210],{749:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var c=a(270),s=a(689),r=a(791),n=a(304),o=a(523),i=a(184);const l=()=>{const{id:e}=(0,s.UO)(),[t,a]=(0,r.useState)([]),{loading:c,error:l,clearError:u,getCharacter:h,process:m,setProcess:p}=(0,n.Z)();(0,r.useEffect)((()=>{g()}),[e]);const g=()=>{u(),h(e).then((e=>a(e))).then((()=>p("confirmed")))};return(0,i.jsx)(i.Fragment,{children:(0,o.Z)(m,d,t)})},d=e=>{let{data:t}=e;const{thumbnail:a,description:s,name:r}=t;return(0,i.jsxs)("div",{className:"char-page",children:[(0,i.jsxs)(c.q,{children:[(0,i.jsx)("meta",{name:"description",content:"Page about ".concat(r)}),(0,i.jsx)("title",{children:"".concat(r," page")})]}),(0,i.jsx)("img",{src:a,alt:r,className:"char-page__img"}),(0,i.jsxs)("div",{className:"char-page__info",children:[(0,i.jsx)("h2",{className:"char-page__name",children:r}),(0,i.jsx)("p",{className:"char-page__descr",children:s})]})]})}},613:(e,t,a)=>{a.d(t,{Z:()=>r});const c=a.p+"static/media/error.42292aa12b6bc303ce99.gif";var s=a(184);const r=()=>(0,s.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:c,alt:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"})},304:(e,t,a)=>{a.d(t,{Z:()=>s});var c=a(791);const s=()=>{const{loading:e,request:t,error:a,clearError:s,process:r,setProcess:n}=(()=>{const[e,t]=(0,c.useState)("waiting");return{request:(0,c.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};t("loading");try{const t=await fetch(e,{method:a,body:c,headers:s});if(!t.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(t.status));return await t.json()}catch(r){throw t("error"),r}}),[]),clearError:(0,c.useCallback)((()=>{t("loading")}),[]),process:e,setProcess:t}})(),o="https://gateway.marvel.com:443/v1/public/",i="apikey=677f4f151277ce2120c892cebbe0e1ba",l=e=>{let t=e.description;return t=t?"".concat(t.slice(0,200),"..."):"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",{id:e.id,name:e.name,description:t,thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items.slice(0,10),title:e.title}},d=e=>{var t;let a=e.prices[0].price;return a=a?"".concat(e.prices[0].price,"$"):"\u041a\u043e\u043c\u0438\u043a\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0435",{id:e.id,description:e.description||"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),title:e.title.length>50?"".concat(e.title.slice(0,50),"..."):e.title,price:a,language:(null===(t=e.textObjects[0])||void 0===t?void 0:t.language)||"en-us",pageCount:e.pageCount?"".concat(e.pageCount," p."):"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u043b\u0438\u0441\u0442\u043e\u0432 \u0432 \u043a\u043e\u043c\u0438\u043a\u0441\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}};return{clearError:s,process:r,setProcess:n,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return(await t("".concat(o,"characters?limit=9&offset=").concat(e,"&").concat(i))).data.results.map(l)},getCharacter:async e=>{const a=await t("".concat(o,"characters/").concat(e,"?").concat(i));return l(a.data.results[0])},getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return(await t("".concat(o,"comics?limit=8&offset=").concat(e,"&").concat(i))).data.results.map(d)},getComics:async e=>{const a=await t("".concat(o,"comics/").concat(e,"?").concat(i));return d(a.data.results[0])},getChar:async()=>(await t("".concat(o,"characters?").concat(i))).data.results.map(l)}}},523:(e,t,a)=>{a.d(t,{Z:()=>o});var c=a(282),s=a(613),r=a(184);const n=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,r.jsxs)("div",{className:"skeleton",children:[(0,r.jsxs)("div",{className:"pulse skeleton__header",children:[(0,r.jsx)("div",{className:"pulse skeleton__circle"}),(0,r.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,r.jsx)("div",{className:"pulse skeleton__block"}),(0,r.jsx)("div",{className:"pulse skeleton__block"}),(0,r.jsx)("div",{className:"pulse skeleton__block"})]})]}),o=(e,t,a)=>{switch(e){case"waiting":return(0,r.jsx)(n,{});case"loading":return(0,r.jsx)(c.Z,{});case"confirmed":return(0,r.jsx)(t,{data:a});case"error":return(0,r.jsx)(s.Z,{});default:throw new Error("Unexpected process state")}}}}]);
//# sourceMappingURL=210.900a6d78.chunk.js.map